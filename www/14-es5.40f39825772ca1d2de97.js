(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"f+ep":function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),o=u("mrSG"),t=u("gIcY"),i=u("ZZ/e"),r=u("6uu6"),s=function(){function l(l,n,u,e,o){this.loadingCtrl=l,this.alertCtrl=n,this.authService=u,this.router=e,this.formBuilder=o,this.loginForm=this.formBuilder.group({email:["",t.l.compose([t.l.required,t.l.email])],password:["",t.l.compose([t.l.required,t.l.minLength(6)])]})}return l.prototype.ngOnInit=function(){},l.prototype.loginUser=function(l){return o.__awaiter(this,void 0,void 0,(function(){var n,u=this;return o.__generator(this,(function(e){switch(e.label){case 0:return l.valid?[3,1]:(console.log("Form is not valid yet, current value:",l.value),[3,4]);case 1:return n=this,[4,this.loadingCtrl.create()];case 2:return n.loading=e.sent(),[4,this.loading.present()];case 3:e.sent(),this.authService.loginUser(l.value.email,l.value.password).then((function(){u.loading.dismiss().then((function(){u.router.navigateByUrl("home")}))}),(function(l){u.loading.dismiss().then((function(){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return[4,this.alertCtrl.create({message:l.message,buttons:[{text:"Ok",role:"cancel"}]})];case 1:return[4,n.sent().present()];case 2:return n.sent(),[2]}}))}))}))})),e.label=4;case 4:return[2]}}))}))},l}(),a=function(){return function(){}}(),b=u("pMnS"),c=u("oBZk"),d=u("Ip0R"),g=u("ZYCi"),p=e.rb({encapsulation:0,styles:[["form[_ngcontent-%COMP%]{margin-bottom:32px}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:20px!important}p[_ngcontent-%COMP%]{font-size:.8em;color:#d2d2d2}ion-label[_ngcontent-%COMP%]{margin-left:5px}ion-input[_ngcontent-%COMP%]{padding:5px}.invalid[_ngcontent-%COMP%]{border-bottom:1px solid #ff6153}.error-message[_ngcontent-%COMP%]{min-height:2.2rem}.error-message[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin:2px 0;font-size:60%;color:#ff6153}.error-message[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{border-bottom:0!important}"]],data:{}});function m(l){return e.Jb(0,[(l()(),e.tb(0,0,null,null,4,"ion-item",[["class","error-message"]],null,null,null,c.H,c.o)),e.sb(1,49152,null,0,i.G,[e.h,e.k,e.z],null,null),(l()(),e.tb(2,0,null,0,2,"ion-label",[],null,null,null,c.I,c.p)),e.sb(3,49152,null,0,i.M,[e.h,e.k,e.z],null,null),(l()(),e.Ib(-1,0,["Please enter a valid email address."]))],null,null)}function h(l){return e.Jb(0,[(l()(),e.tb(0,0,null,null,4,"ion-item",[["class","error-message"]],null,null,null,c.H,c.o)),e.sb(1,49152,null,0,i.G,[e.h,e.k,e.z],null,null),(l()(),e.tb(2,0,null,0,2,"ion-label",[],null,null,null,c.I,c.p)),e.sb(3,49152,null,0,i.M,[e.h,e.k,e.z],null,null),(l()(),e.Ib(-1,0,["Your password needs more than 6 characters."]))],null,null)}function f(l){return e.Jb(0,[(l()(),e.tb(0,0,null,null,35,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var o=!0;return"submit"===n&&(o=!1!==e.Eb(l,2).onSubmit(u)&&o),"reset"===n&&(o=!1!==e.Eb(l,2).onReset()&&o),o}),null,null)),e.sb(1,16384,null,0,t.p,[],null,null),e.sb(2,540672,null,0,t.d,[[8,null],[8,null]],{form:[0,"form"]},null),e.Fb(2048,null,t.a,null,[t.d]),e.sb(4,16384,null,0,t.i,[[4,t.a]],null,null),(l()(),e.tb(5,0,null,null,11,"ion-item",[],null,null,null,c.H,c.o)),e.sb(6,49152,null,0,i.G,[e.h,e.k,e.z],null,null),(l()(),e.tb(7,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,c.I,c.p)),e.sb(8,49152,null,0,i.M,[e.h,e.k,e.z],{position:[0,"position"]},null),(l()(),e.Ib(-1,0,["Email"])),(l()(),e.tb(10,0,null,0,6,"ion-input",[["formControlName","email"],["placeholder","Your email address"],["type","email"]],[[2,"invalid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var o=!0;return"ionBlur"===n&&(o=!1!==e.Eb(l,11)._handleBlurEvent(u.target)&&o),"ionChange"===n&&(o=!1!==e.Eb(l,11)._handleInputEvent(u.target)&&o),o}),c.G,c.n)),e.sb(11,16384,null,0,i.Lb,[e.k],null,null),e.Fb(1024,null,t.f,(function(l){return[l]}),[i.Lb]),e.sb(13,671744,null,0,t.c,[[3,t.a],[8,null],[8,null],[6,t.f],[2,t.o]],{name:[0,"name"]},null),e.Fb(2048,null,t.g,null,[t.c]),e.sb(15,16384,null,0,t.h,[[4,t.g]],null,null),e.sb(16,49152,null,0,i.F,[e.h,e.k,e.z],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.ib(16777216,null,null,1,null,m)),e.sb(18,16384,null,0,d.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.tb(19,0,null,null,11,"ion-item",[],null,null,null,c.H,c.o)),e.sb(20,49152,null,0,i.G,[e.h,e.k,e.z],null,null),(l()(),e.tb(21,0,null,0,2,"ion-label",[["position","stacked"]],null,null,null,c.I,c.p)),e.sb(22,49152,null,0,i.M,[e.h,e.k,e.z],{position:[0,"position"]},null),(l()(),e.Ib(-1,0,["Password"])),(l()(),e.tb(24,0,null,0,6,"ion-input",[["formControlName","password"],["placeholder","Your password"],["type","password"]],[[2,"invalid",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(l,n,u){var o=!0;return"ionBlur"===n&&(o=!1!==e.Eb(l,25)._handleBlurEvent(u.target)&&o),"ionChange"===n&&(o=!1!==e.Eb(l,25)._handleInputEvent(u.target)&&o),o}),c.G,c.n)),e.sb(25,16384,null,0,i.Lb,[e.k],null,null),e.Fb(1024,null,t.f,(function(l){return[l]}),[i.Lb]),e.sb(27,671744,null,0,t.c,[[3,t.a],[8,null],[8,null],[6,t.f],[2,t.o]],{name:[0,"name"]},null),e.Fb(2048,null,t.g,null,[t.c]),e.sb(29,16384,null,0,t.h,[[4,t.g]],null,null),e.sb(30,49152,null,0,i.F,[e.h,e.k,e.z],{placeholder:[0,"placeholder"],type:[1,"type"]},null),(l()(),e.ib(16777216,null,null,1,null,h)),e.sb(32,16384,null,0,d.i,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.tb(33,0,null,null,2,"ion-button",[["expand","block"]],null,[[null,"click"]],(function(l,n,u){var e=!0,o=l.component;return"click"===n&&(e=!1!==o.loginUser(o.loginForm)&&e),e}),c.u,c.b)),e.sb(34,49152,null,0,i.j,[e.h,e.k,e.z],{disabled:[0,"disabled"],expand:[1,"expand"]},null),(l()(),e.Ib(-1,0,[" Log In "])),(l()(),e.tb(36,0,null,null,4,"ion-button",[["expand","block"],["fill","clear"],["routerLink","/register"]],null,[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==e.Eb(l,38).onClick()&&o),"click"===n&&(o=!1!==e.Eb(l,39).onClick(u)&&o),o}),c.u,c.b)),e.sb(37,49152,null,0,i.j,[e.h,e.k,e.z],{expand:[0,"expand"],fill:[1,"fill"]},null),e.sb(38,16384,null,0,g.n,[g.m,g.a,[8,null],e.D,e.k],{routerLink:[0,"routerLink"]},null),e.sb(39,737280,null,0,i.Kb,[d.g,i.Hb,e.k,g.m,[2,g.n]],null,null),(l()(),e.Ib(-1,0,[" Create a new account\n"])),(l()(),e.tb(41,0,null,null,4,"ion-button",[["expand","block"],["fill","clear"],["routerLink","/reset-password"]],null,[[null,"click"]],(function(l,n,u){var o=!0;return"click"===n&&(o=!1!==e.Eb(l,43).onClick()&&o),"click"===n&&(o=!1!==e.Eb(l,44).onClick(u)&&o),o}),c.u,c.b)),e.sb(42,49152,null,0,i.j,[e.h,e.k,e.z],{expand:[0,"expand"],fill:[1,"fill"]},null),e.sb(43,16384,null,0,g.n,[g.m,g.a,[8,null],e.D,e.k],{routerLink:[0,"routerLink"]},null),e.sb(44,737280,null,0,i.Kb,[d.g,i.Hb,e.k,g.m,[2,g.n]],null,null),(l()(),e.Ib(-1,0,[" I forgot my password :(\n"]))],(function(l,n){var u=n.component;l(n,2,0,u.loginForm),l(n,8,0,"stacked"),l(n,13,0,"email"),l(n,16,0,"Your email address","email"),l(n,18,0,!u.loginForm.controls.email.valid&&u.loginForm.controls.email.touched),l(n,22,0,"stacked"),l(n,27,0,"password"),l(n,30,0,"Your password","password"),l(n,32,0,!u.loginForm.controls.password.valid&&u.loginForm.controls.password.touched),l(n,34,0,!u.loginForm.valid,"block"),l(n,37,0,"block","clear"),l(n,38,0,"/register"),l(n,39,0),l(n,42,0,"block","clear"),l(n,43,0,"/reset-password"),l(n,44,0)}),(function(l,n){var u=n.component;l(n,0,0,e.Eb(n,4).ngClassUntouched,e.Eb(n,4).ngClassTouched,e.Eb(n,4).ngClassPristine,e.Eb(n,4).ngClassDirty,e.Eb(n,4).ngClassValid,e.Eb(n,4).ngClassInvalid,e.Eb(n,4).ngClassPending),l(n,10,0,!u.loginForm.controls.email.valid&&u.loginForm.controls.email.touched,e.Eb(n,15).ngClassUntouched,e.Eb(n,15).ngClassTouched,e.Eb(n,15).ngClassPristine,e.Eb(n,15).ngClassDirty,e.Eb(n,15).ngClassValid,e.Eb(n,15).ngClassInvalid,e.Eb(n,15).ngClassPending),l(n,24,0,!u.loginForm.controls.password.valid&&u.loginForm.controls.password.touched,e.Eb(n,29).ngClassUntouched,e.Eb(n,29).ngClassTouched,e.Eb(n,29).ngClassPristine,e.Eb(n,29).ngClassDirty,e.Eb(n,29).ngClassValid,e.Eb(n,29).ngClassInvalid,e.Eb(n,29).ngClassPending)}))}function C(l){return e.Jb(0,[(l()(),e.tb(0,0,null,null,1,"app-login",[],null,null,null,f,p)),e.sb(1,114688,null,0,s,[i.Fb,i.a,r.a,g.m,t.b],null,null)],(function(l,n){l(n,1,0)}),null)}var k=e.pb("app-login",s,C,{},{},[]);u.d(n,"LoginPageModuleNgFactory",(function(){return v}));var v=e.qb(a,[],(function(l){return e.Bb([e.Cb(512,e.j,e.bb,[[8,[b.a,k]],[3,e.j],e.x]),e.Cb(4608,d.k,d.j,[e.u,[2,d.r]]),e.Cb(4608,t.n,t.n,[]),e.Cb(4608,i.b,i.b,[e.z,e.g]),e.Cb(4608,i.Gb,i.Gb,[i.b,e.j,e.q]),e.Cb(4608,i.Jb,i.Jb,[i.b,e.j,e.q]),e.Cb(4608,t.b,t.b,[]),e.Cb(1073742336,d.b,d.b,[]),e.Cb(1073742336,t.m,t.m,[]),e.Cb(1073742336,t.e,t.e,[]),e.Cb(1073742336,i.Db,i.Db,[]),e.Cb(1073742336,g.o,g.o,[[2,g.t],[2,g.m]]),e.Cb(1073742336,t.k,t.k,[]),e.Cb(1073742336,a,a,[]),e.Cb(1024,g.k,(function(){return[[{path:"",component:s}]]}),[])])}))}}]);